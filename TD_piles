from ma_pile import creer_pile, est_vide, empiler, depiler, afficher_pile

#exercice 1
#3)
def pile_alternee(n):
    p = creer_pile()
    for i in range(n+1):
        if i % 2 == 0:
            empiler(p,i)
        else :
            empiler(p,-i)
    return p

afficher_pile(pile_alternee(6))

#exercice 2

def vider_pile(p):
    while est_vide(p) == False:
        depiler(p)

def sommet_pile(p):
    if est_vide(p) == True:
        return None
    k = depiler(p)
    empiler(p,k)
    return k

def taille_pile(p):
    res = 0
    if est_vide(p) == True:
        return res
    p2 = creer_pile()
    while est_vide(p) == False:
        empiler(p2,depiler(p))
        res = res + 1
    while est_vide(p2) == False:
        empiler(p,depiler(p2))
    return res

def inverser_pile(p):
    p2 = creer_pile()
    p3 = creer_pile()
    while est_vide(p) == False:
        empiler(p2,depiler(p))
    while est_vide(p2) == False:
        empiler(p3,depiler(p2))
    while est_vide(p3) == False:
        empiler(p,depiler(p3))

#exercice 3

def est_bien_parenthesee(chaine):
    p = creer_pile()
    for e in chaine:
        if e == "(":
            empiler(p,e)
        elif e == ")":
            if est_vide(p) == False:
                depiler(p)
            else:
                return False
    if est_vide(p) == False:
        return False
    return True

#exercice 4

def separer_postfixee(chaine):
    return chaine.split(' ')

def est_operateur(str):
    for e in str:
        if (e == "+" or e == "-") or (e == "*" or e == "/"):
            return True
        else:
            return False

def evaluer_postfixee(chaine):
    pile = creer_pile()
    pile2 = creer_pile()
    liste = separer_postfixee(chaine)
    for e in liste:
        if est_operateur(e) == False:
            empiler(pile,e)
        elif e == "-":
            for i in range(2):
                empiler(pile2,depiler(pile))
            empiler(pile,eval(str(depiler(pile2)) + e + str(depiler(pile2))))
        else:
            empiler(pile,eval(str(depiler(pile)) + e + str(depiler(pile))))
    return depiler(pile)
